<?xml version="1.0" encoding="utf-8" ?>
<TabbedPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
            xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
            x:Class="PollAventuras.Views.MainPage">

    <!-- Pestaña de Inicio -->
    <ContentPage Title="Inicio" IconImageSource="home.png">
        <ScrollView>
            <VerticalStackLayout Padding="20" Spacing="15">
                <Label Text="Bienvenido a PollAventuras" 
                       FontSize="Title" 
                       HorizontalOptions="Center"
                       FontAttributes="Bold"/>

                <Label Text="Tu plataforma de soporte y pistas para videojuegos" 
                       FontSize="Subtitle" 
                       HorizontalOptions="Center"
                       TextColor="Gray"/>

                <Frame BorderColor="LightGray" 
                       CornerRadius="10" 
                       Padding="15"
                       BackgroundColor="{AppThemeBinding Light=White, Dark=#1A1A1A}">

                    <VerticalStackLayout Spacing="10">
                        <Button Text="Ver Pistas" 
                                Command="{Binding NavigateToHintsCommand}"
                                BackgroundColor="{StaticResource Primary}"
                                TextColor="White"/>

                        <Button Text="Soporte Técnico" 
                                Command="{Binding NavigateToSupportCommand}"
                                BackgroundColor="{StaticResource Secondary}"
                                TextColor="White"/>

                        <Button Text="Crear Nuevo Ticket" 
                                Command="{Binding CreateNewTicketCommand}"
                                BackgroundColor="Orange"
                                TextColor="White"/>
                    </VerticalStackLayout>
                </Frame>
            </VerticalStackLayout>
        </ScrollView>
    </ContentPage>

    <!-- Pestaña de Pistas -->
    <ContentPage Title="Pistas" IconImageSource="hints.png">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Label Text="Pistas del Juego" 
                   FontSize="Title" 
                   HorizontalOptions="Center"
                   FontAttributes="Bold"
                   Padding="20,10"/>

            <CollectionView Grid.Row="1" 
                           ItemsSource="{Binding GameHints}"
                           Margin="10">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BorderColor="LightGray" 
                               CornerRadius="10" 
                               Margin="5"
                               Padding="15"
                               BackgroundColor="{AppThemeBinding Light=White, Dark=#1A1A1A}">
                            <VerticalStackLayout Spacing="5">
                                <Label Text="{Binding Title}" 
                                       FontSize="18" 
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding Level}" 
                                       FontAttributes="Italic"
                                       TextColor="Gray"/>
                                <Label Text="{Binding Description}" 
                                       FontSize="14"/>
                                <Label Text="{Binding DatePublished, StringFormat='{0:dd/MM/yyyy}'}" 
                                       FontSize="12"
                                       TextColor="Gray"/>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
    </ContentPage>

    <!-- Pestaña de Soporte -->
    <ContentPage Title="Soporte" IconImageSource="support.png">
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <Label Text="Soporte Técnico" 
                   FontSize="Title" 
                   HorizontalOptions="Center"
                   FontAttributes="Bold"
                   Padding="20,10"/>

            <Button Grid.Row="1" 
                    Text="Crear Nuevo Ticket" 
                    Command="{Binding CreateNewTicketCommand}"
                    BackgroundColor="{StaticResource Primary}"
                    TextColor="White"
                    Margin="20,0"/>

            <CollectionView Grid.Row="2" 
                           ItemsSource="{Binding SupportTickets}"
                           Margin="10">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Frame BorderColor="LightGray" 
                               CornerRadius="10" 
                               Margin="5"
                               Padding="15"
                               BackgroundColor="{AppThemeBinding Light=White, Dark=#1A1A1A}">
                            <VerticalStackLayout Spacing="5">
                                <Label Text="{Binding Title}" 
                                       FontSize="16" 
                                       FontAttributes="Bold"/>
                                <Label Text="{Binding Description}" 
                                       FontSize="14"/>
                                <Label Text="{Binding Status}" 
                                       FontSize="12"
                                       TextColor="Orange"/>
                                <Label Text="{Binding CreatedDate, StringFormat='{0:dd/MM/yyyy HH:mm}'}" 
                                       FontSize="12"
                                       TextColor="Gray"/>
                            </VerticalStackLayout>
                        </Frame>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
    </ContentPage>
</TabbedPage>